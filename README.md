## 🧠 Techniques & Concepts

- **Surface Normal Estimation**  
  Normals are computed using PCA on local point cloud regions extracted via OpenCV.  
  This will be motified to a novel approach that I developed and verified using simulations and a depth camera.  
  Brief explanation with code about novel approach can be found here: [Github repository](https://github.com/JohnnyJunhwiMun/AccurateNormals.git).
  
- **Path Planning**  
Multi-objective optimization is used to search around 50 candidate paths, evaluated with Pareto dominance.

- **Data processing**  
Parallel computation using threads pool is used. Computation time reduced from around 1hour to 10 mins.



## 📂 Project Structure at a Glance

| Folder | Purpose | Run Order |
| :--- | :--- | :--- |
| **`opencv_servicies_copy/`** | Extracts surface normal vectors for every target point with OpenCV. | **1️⃣ Run first** |
| **`myopencv_copy/`** | Drives the UR‑5 robot arm, harvesting ~50 candidate trajectories with a Pareto‑dominance search, then picks the optimal one. | **2️⃣ Run after normals are ready** |

> **Why this order?**  
> The motion‑planner (**`myopencv_copy`**) needs the normals generated by **`opencv_servicies_copy`** to evaluate collision‑free, smooth trajectories.


To open the simulation world in GAZEBO, download the folder **ur_app** through [this Google Drive link](https://drive.google.com/drive/folders/1xmwS8ozH2GyCBaR0FgzfQC4MRwFhqW7f?usp=drive_link).


---
## 🛠️ Quick‑Start

1. **Launch the Gazebo world (Download in Google drive)**

   ```bash
   roslaunch ur_app spawn_ur5_hammer_camer
   ```

2. **Click the Play ▶️ button in Gazebo.**
3. **Compute normals (opens a preview window):**
   ```bash
   rosrun opencv_servicies_copy axes_plane_all
   ```
4. **Search & optimise paths (≈ 10 min for 50 paths):**
   ```bash
   rosrun myopencv_copy normal_improved_pareto2
   ```
  Tune runtime: decrease max_retries or lower the thread count in the script to sample fewer paths.
  
---

## 🧩 Environment

- Ubuntu: 20.04 LTS

- ROS 1: Noetic Ninjemys

- Gazebo: 11.x
  
---

## 🚀 Results
The randomly searched path demonstrates inefficient behavior, taking unnecessary detours and significantly longer time to reach the target. This leads to movements that are clearly suboptimal and impractical for real-world applications.

In contrast, the optimal path ensures task success by intelligently balancing three critical objectives:

🛡️ **Safe Navigation**: Maintains a minimal distance from obstacles.

🤖 **Efficient Joint Usage**: Optimizes joint configurations and length.

🌊 **Smooth Motion**: Ensures fluid and natural path transitions.

This balance results in a more reliable, efficient, and realistic robotic motion.

**Randomly searched path**

https://github.com/user-attachments/assets/57db90e3-5735-4206-81d7-bbc47bfb006c


**Optimal path**

https://github.com/user-attachments/assets/5023584e-5671-453a-9d07-452d26261079

